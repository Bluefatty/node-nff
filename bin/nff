#!/usr/bin/env node

var program = require('commander');

program.version(require('../package.json').version)
  .option('-f, --find [s]', 'find file(Examples: $ nff -f findKeyword1,findKeyword2)', String)
  .option('-w, --where [s]', 'where path(Examples: $ nff -w java,xml)', String)
  .option('-i, --ignore [s]', 'ignore file(Examples: $ nff -i java,xml)', String)
  .option('-g, --ignorePath [s]', 'ignore file path(Default: .svn, .git, Examples: $ nff -g .git,bin)', String, '.svn,.git')
  .parse(process.argv);

if(!program.find) {
  console.log('\u001b[91m -f | --find is null \u001b[0m');
  process.exit(1);
}

var options = {
  ignoreFilePaths: program.ignorePath.split(','),
  ignores: program.ignore && program.ignore.split(','),
  findKeys: program.find.split(','),
  wherePaths: program.where && program.where.split(',')
};

require('..')(options);
